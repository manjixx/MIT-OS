# Pointers and Arrays

**æŒ‡é’ˆæ˜¯ä¸€ç§ä¿å­˜å˜é‡åœ°å€çš„å˜é‡**ã€‚åœ¨ C è¯­è¨€ä¸­ï¼ŒæŒ‡é’ˆçš„ä½¿ç”¨éå¸¸å¹¿æ³›:

- åŸå› ä¹‹ä¸€æ˜¯ï¼ŒæŒ‡é’ˆå¸¸å¸¸æ˜¯è¡¨è¾¾æŸä¸ªè®¡ç®—çš„æƒŸä¸€é€”å¾„
- å¦ä¸€ä¸ªåŸå› æ˜¯ï¼ŒåŒå…¶å®ƒæ–¹æ³•æ¯”è¾ƒèµ·æ¥ï¼Œä½¿ç”¨æŒ‡é’ˆé€šå¸¸å¯ä»¥ç”Ÿæˆæ›´é«˜æ•ˆã€æ›´ç´§å‡‘çš„ä»£ç ã€‚

ANSI C ä½¿ç”¨ç±»å‹ `void *`ï¼ˆæŒ‡å‘ void çš„æŒ‡é’ˆï¼‰ä»£æ›¿ `char *`ä½œä¸ºé€šç”¨æŒ‡é’ˆçš„ç±»å‹ã€‚

## 5.1 Pointers and Address

> **å†…å­˜ç»„ç»‡æ–¹å¼**

é€šå¸¸çš„æœºå™¨éƒ½æœ‰ä¸€ç³»åˆ—è¿ç»­ç¼–å·æˆ–ç¼–å€çš„å­˜å‚¨å•å…ƒï¼Œè¿‡äº›å­˜å‚¨å•å…ƒå¯ä»¥å•ä¸ªè¿›è¡Œæ“çºµï¼Œä¹Ÿå¯ä»¥ä»¥è¿ç»­æˆç»„çš„æ–¹å¼æ“çºµã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œæœºå™¨çš„ä¸€ä¸ªå­—èŠ‚å¯ä»¥å­˜æ”¾ä¸€ä¸ª char ç±»å‹çš„æ•°æ®ï¼Œä¸¤ä¸ªç›¸é‚»çš„å­—èŠ‚å­˜å‚¨å•å…ƒå¯å­˜å‚¨ä¸€ä¸ª shortï¼ˆçŸ­æ•´å‹ï¼‰ç±»å‹çš„æ•°æ®ï¼Œè€Œ 4 ä¸ªç›¸é‚»çš„å­—èŠ‚å­˜å‚¨å•å…ƒå¯å­˜å‚¨ä¸€ä¸ª longï¼ˆé•¿æ•´å‹ï¼‰ç±»å‹çš„æ•°æ®ã€‚

æŒ‡é’ˆæ˜¯èƒ½å¤Ÿå­˜æ”¾ä¸€ä¸ªåœ°å€çš„ä¸€ç»„å­˜å‚¨å•å…ƒï¼ˆé€šå¸¸æ˜¯ä¸¤ä¸ªæˆ– 4 ä¸ªå­—èŠ‚ï¼‰ã€‚

> è¿ç®—ç¬¦ & å’Œ è¿ç®—ç¬¦ *

- ä¸€å…ƒè¿ç®—ç¬¦ `&`å¯ç”¨äºå–ä¸€ä¸ªå¯¹è±¡çš„åœ°å€ã€‚**åªèƒ½åº”ç”¨äºå†…å­˜ä¸­çš„å¯¹è±¡**ï¼Œå³å˜é‡ä¸æ•°ç»„å…ƒç´ ã€‚**å®ƒä¸èƒ½ä½œç”¨äº**è¡¨è¾¾å¼ã€å¸¸é‡æˆ– register ç±»å‹çš„å˜é‡ã€‚
- ä¸€å…ƒè¿ç®—ç¬¦`*`æ˜¯**é—´æ¥å¯»å€**æˆ–**é—´æ¥å¼•ç”¨è¿ç®—ç¬¦**ã€‚å½“å®ƒä½œç”¨äºæŒ‡é’ˆæ—¶ï¼Œå°†è®¿é—®æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚

ğŸ™‹ğŸŒ°è¯´æ˜

```c
int x = 1, y = 2, z[10];
int *ip;    /* ip is a pointer to int */

ip = &x;    /* ip now points to x */
y = *ip;    /* y is now 1 */
*ip = 0;    /* x is now 0 */
ip = &z[0]; /* ip now points to z[0] */
```

> **æŒ‡é’ˆçš„å£°æ˜**

æ³¨æ„ï¼š

- **æŒ‡é’ˆåªèƒ½æŒ‡å‘æŸç§ç‰¹å®šç±»å‹çš„å¯¹è±¡**ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªæŒ‡é’ˆéƒ½å¿…é¡»æŒ‡å‘æŸç§ç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚

- ä¸€ä¸ªä¾‹å¤–æƒ…å†µæ˜¯**æŒ‡å‘ void ç±»å‹çš„æŒ‡é’ˆå¯ä»¥å­˜æ”¾æŒ‡å‘ä»»ä½•ç±»å‹çš„æŒ‡é’ˆ**ï¼Œä½†å®ƒä¸èƒ½é—´æ¥å¼•ç”¨å…¶è‡ªèº«

```c
int *ip;
/* åœ¨è¡¨è¾¾å¼ä¸­ï¼Œ*dp å’Œ atof(s)çš„å€¼éƒ½æ˜¯ double ç±»å‹ï¼Œä¸” atof çš„å‚æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘ char ç±»å‹çš„æŒ‡é’ˆã€‚ */
double *dp, atof(char *);
```

```c
/* *ip çš„å€¼åŠ  10 */
*ip = *ip + 10;

/**
 points1: ä¸€å…ƒè¿ç®—ç¬¦*å’Œ&çš„ä¼˜å…ˆçº§æ¯”ç®—æœ¯è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜
 */

y = *ip + 1; /*å°† *ipæŒ‡å‘çš„å¯¹è±¡çš„å€¼å–å‡ºæ¥å¹¶åŠ 1ï¼Œç„¶åå†èµ‹å€¼ç»™y */

/* ä¸‹åˆ—ä¸‰å¥å‡ä¸ºå°† *ipæŒ‡å‘çš„å¯¹è±¡å–å‡ºæ¥å¹¶åŠ 1 */
*ip += 1;
++ *ip;
(*ip) ++; /*æ³¨æ„è¯¥å¥ä¸­()æ˜¯å¿…é¡»çš„ï¼Œå› ä¸º * ä¸ ++ ä¸€å…ƒè¿ç®—ç¬¦éµå¾ªä»å·¦åˆ°å³çš„ç»“åˆé¡ºåº */

/**
    points2:ç”±äºæŒ‡é’ˆä¹Ÿæ˜¯å˜é‡ï¼Œæ‰€ä»¥åœ¨ç¨‹åºä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸å¿…é€šè¿‡é—´æ¥å¼•ç”¨çš„æ–¹æ³•ä½¿ç”¨ã€‚
 */

iq = ip; /*è¡¨ç¤ºå°†ipä¸­çš„å€¼æ‹·è´åˆ°iqä¸­ï¼Œiqä¹Ÿå°†æŒ‡å‘iqæŒ‡å‘çš„å¯¹è±¡ */


```

***

## 5.2 Pointers and Function Arguments

ç”±äº C è¯­è¨€æ˜¯ä»¥ä¼ å€¼çš„æ–¹å¼å°†å‚æ•°å€¼ä¼ é€’ç»™è¢«è°ƒç”¨å‡½æ•°ã€‚å› æ­¤ï¼Œ**è¢«è°ƒç”¨å‡½æ•°ä¸èƒ½ç›´æ¥ä¿®æ”¹ä¸»è°ƒå‡½æ•°ä¸­å˜æœ€çš„å€¼**ã€‚

***

## 5.3 Pointers and Arrays

***

## 5.4 Address Arithmetic

***

## 5.5 Character Pointers and Functions

***

## 5.6 Pointer Arrays; Pointers to Pointers

***

## 5.7 Multi-dimensional Arrays

***

## 5.8 Initialization of Pointers Arrays

***

## 5.9 Pointers vs Multi-dimensional Arrays

***

## 5.10 Command-line Arguments

***

## 5.11 Pointers to Functions

***

## 5.12 Complicated Declarations